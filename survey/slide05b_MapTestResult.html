{% load static %}

{{ block title }}
Training Results
{{ endblock }}

{{ block content }}
<div style="margin: 2em auto; padding: 1.5em; border-radius: 12px; background-color: #f9f9f9; box-shadow: 0 4px 10px rgba(0,0,0,0.1); font-family: Arial, sans-serif; color: #333;">

  <p style="margin-bottom: 1em; font-weight: bold; font-size: 1.1em;">
    Attempt {{ attempt }} of {{ max_attempts }}
  </p>

  {% if passed %}
    <div style="padding: 1em; border-left: 4px solid #4CAF50; background-color: #e8f5e9; border-radius: 8px; margin-bottom: 1.5em;">
      <p style="margin: 0; font-size: 1.05em;">
        <strong>Well done!</strong> Your arrangement fulfills all the criteria. Below is another possible example of an arrangement that accurately describes the scenario.
      </p>
    </div>
  {% else %}
    <div style="padding: 1em; border-left: 4px solid #f44336; background-color: #ffebee; border-radius: 8px; margin-bottom: 1.5em;">
      <p style="margin: 0 0 1em 0; font-size: 1.05em;">
        <strong>Your arrangement does not meet all parts of the description:</strong>
      </p>
      <p style="margin: 0 0 1em 0; white-space: pre-line;">{{ errors }}</p>
      <p style="margin: 0;">Please repeat the training and try to arrange the dots so that all criteria are fulfilled. Below is one possible arrangement that meets all the criteria:</p>
    </div>
  {% endif %}

  <div style="text-align: center; margin: 1.5em 0;">
    <img id="training-result-img" src="{% static 'correctTraining.png' %}" alt="Training Result Example" style="max-width: 100%; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
  </div>

  <div style="text-align: center; margin-top: 2em;">
    {% if passed %}
      <button style="background-color: #4CAF50; color: white; padding: 0.6em 1.2em; margin: 0 0.5em; border: none; border-radius: 6px; font-size: 1em; cursor: pointer;" name="next">
        Continue
      </button>
    {% elif attempt == max_attempts %}
      <button style="background-color: #4CAF50; color: white; padding: 0.6em 1.2em; margin: 0 0.5em; border: none; border-radius: 6px; font-size: 1em; cursor: pointer;" name="next">
        Continue Anyway
      </button>
    {% else %}
      <button style="background-color: #4CAF50; color: white; padding: 0.6em 1.2em; margin: 0 0.5em; border: none; border-radius: 6px; font-size: 1em; cursor: pointer;" name="next">
        Repeat Training
      </button>
    {% endif %}
  </div>

</div>


{% comment %}
<!-- 
<script>
    var isTrainingPassed = {{ isTrainingPassed }};
    var messageElement = document.getElementById("training-message");
    var imageElement = document.getElementById("training-result-img");
    messageElement.textContent = isTrainingPassed;
    if (isTrainingPassed) {
        messageElement.textContent = "You have passed the training.";
    } else {
        messageElement.textContent = "Hmm, something went wrong. You did not meet at least one of the criteria. (1) the distance between F and 'self' should be smaller than the distance between C and 'self'. (2) the distance between S and C (and S and F) should be smaller than the distance between S and 'self'";
        imageElement.style.display = "block"; // Show image only when training fails    
    }
</script> -->
{% endcomment %}

{{ endblock }}